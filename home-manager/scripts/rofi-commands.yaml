#
# Work Shortcuts
#

- name: "Reptrak VPN: Connect"
  command: openvpn3 session-start --config /home/juampi/.config/openvpn/reptrakDevelop.ovpn || notify-send 'VPN Connected'

- name: "Reptrak VPN: Disconnect"
  command: openvpn3 sessions-list | grep "Path" | awk '{print $2}' | xargs -I {} openvpn3 session-manage -D --path {} || notify-send 'VPN Disconnected'

- name: "Reptrak VPN: Restart"
  command: |
    openvpn3 sessions-list | grep "Path" | awk '{print $2}' | xargs -I {} openvpn3 session-manage -D --path {}
    openvpn3 session-start --config /home/juampi/.config/openvpn/reptrakDevelop.ovpn
    notify-send 'VPN Reloaded'

#
# External Devices Management
#

- name: "System: Bluetooth"
  command: $HOME/.config/scripts/rofi-bluetooth.sh
#
- name: "Audio: HyperX headset"
  command: pactl set-default-sink alsa_output.usb-Kingston_HyperX_Cloud_Flight_Wireless_Headset-00.iec958-stereo

- name: "Audio: Analog"
  command: pactl set-default-sink alsa_output.pci-0000_00_1f.3.analog-stereo

- name: "System: Toggle Mic"
  command: amixer set Capture toggle && notify-send "Microphone $(amixer get Capture | grep -m 1 -oE '\[on\]|\[off\]')"

# FIXME: requires hyprland upgrade (at least 44)
- name: "Keyboard: next layout"
  command: hyprctl switchxkblayout all next

#
# Main System Shortcuts
#

- name: "System: Screenshot"
  command: $HOME/.config/scripts/

- name: "Dunst: Reload"
  command: pkill dunst && dunst & sleep 1; notify-send 'Dunst reloaded'

- name: Power off
  confirm: true
  command: systemctl poweroff

- name: Reboot
  confirm: true
  command: systemctl reboot

- name: Sleep
  confirm: true
  command: systemctl suspend

- name: "Power Menu"
  command: $HOME/.config/scripts/rofi-power.sh
